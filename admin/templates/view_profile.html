{% extends "base.html" %}

{% block content %}
<div class="container mt-4" style="max-width: 800px;">
    <h3 class="text-center mb-4">Admin Profile</h3>

    <!-- Profile Completion Progress -->
    <div class="mb-4">
        <label class="form-label fw-bold">Profile Completion: {{ completion }}%</label>
        <div class="progress">
            <div class="progress-bar" role="progressbar" style="width: {{ completion }}%;" aria-valuenow="{{ completion }}" aria-valuemin="0" aria-valuemax="100">
                {{ completion }}%
            </div>
        </div>
    </div>

    <!-- Profile Photo Centered -->
    <div class="text-center mb-4">
        {% if admin.profile_photo %}
            <img src="{{ url_for('static', filename='uploads/profiles/' + admin.profile_photo) }}" 
                 alt="Profile Photo" class="img-thumbnail rounded-circle" 
                 style="width:120px;height:120px;object-fit:cover;">
        {% else %}
            <img src="{{ url_for('static', filename='images/default_profile.png') }}" 
                 alt="Profile Photo" class="img-thumbnail rounded-circle" 
                 style="width:120px;height:120px;object-fit:cover;">
        {% endif %}
    </div>

    <!-- Profile Details -->
    <div class="card p-4 shadow-sm">
        <div class="row g-3">
            <div class="col-md-6">
                <strong>Full Name:</strong>
                <p>{{ admin.full_name or '-' }}</p>
            </div>
            <div class="col-md-6">
                <strong>Email:</strong>
                <p>{{ admin.email or '-' }}</p>
            </div>
            <div class="col-md-6">
                <strong>Date of Birth:</strong>
                <p>{{ admin.dob or '-' }}</p>
            </div>
            <div class="col-md-6">
                <strong>Gender:</strong>
                <p>{{ admin.gender or '-' }}</p>
            </div>
            <div class="col-md-6">
                <strong>Country:</strong>
                <p>{{ admin.country or '-' }}</p>
            </div>
            <div class="col-md-6">
                <strong>State:</strong>
                <p>{{ admin.state or '-' }}</p>
            </div>
            <div class="col-md-6">
                <strong>City:</strong>
                <p>{{ admin.city or '-' }}</p>
            </div>
            <div class="col-md-6">
                <strong>Zip Code:</strong>
                <p>{{ admin.zip_code or '-' }}</p>
            </div>
            <div class="col-md-6">
                <strong>Emergency Contact Name:</strong>
                <p>{{ admin.emergency_contact_name or '-' }}</p>
            </div>
            <div class="col-md-6">
                <strong>Emergency Contact Phone:</strong>
                <p>{{ admin.emergency_contact_phone or '-' }}</p>
            </div>
            <div class="col-12">
                <strong>Address:</strong>
                <p>{{ admin.address or '-' }}</p>
            </div>
        </div>

        <div class="text-center mt-4">
            <a href="{{ url_for('admin.profile') }}" class="btn btn-primary px-5">
                Edit Profile
            </a>
        </div>
    </div>
</div>
{% endblock %}
